(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{nIyK:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return H});t("EOAa");var l,n,r,i,c=t("jSHc"),s=(t("kMYG"),t("vezQ")),d=(t("AzOV"),t("1rzF")),m=(t("GgFV"),t("8mo5")),o=(t("TwXU"),t("wfQ5")),u=(t("21wi"),t("2PuW")),E=(t("OjLV"),t("+WNi")),h=t("43Yg"),p=t.n(h),b=t("/tCh"),g=t.n(b),v=t("scpF"),y=t.n(v),f=t("O/V9"),V=t.n(f),w=t("Tfcp"),C=t.n(w),k=t("8aBX"),S=t.n(k),z=(t("Qruc"),t("2CpC")),L=(t("Gu8f"),t("ASK3")),O=(t("rLU4"),t("u8w+")),q=(t("tM2D"),t("/ogX")),I=t("2w0b"),x=t.n(I),D=t("LneV"),M=t("zHco"),U=q["a"].Option,A=O["a"].Item,F=L["a"].RangePicker,K=z["a"].TextArea,H=(l=Object(D["connect"])(function(e){var a=e.vacate,t=e.loading,l=e.user;return{currentUser:l.currentUser,vacateList:a.getVacateRedcontent,vacateListLoading:t.effects["vacate/getVacateRed"]}}),n=O["a"].create(),l(r=n((i=function(e){function a(){var e,t;p()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return t=y()(this,(e=V()(a)).call.apply(e,[this].concat(n))),t.state={loading:!1,visible:!1,modalData:null},t.test=function(){var e=t.props,a=e.dispatch,l=e.currentUser,n={};n.userid=l.userid,n.name=l.name,a({type:"vacate/getVacateRed",payload:n})},t.handleOK=function(){var e=t.props.dispatch,a=t.props.form.getFieldValue,l=a("type"),n={};t.loading(),n.vid=a("vid"),n.status=a("statu"),n.result=a("reslut"),n.name=a("name"),n.id=a("id"),n.grade=a("grade"),n.class1=a("class1"),n.phone=a("phone"),n.reason=a("reason"),l&&a("date")?(n.type=l["label"],a("date")&&(n.starttime=a("date")[0],n.endtime=a("date")[1]),e({type:"vacate/updateVacate",payload:n,callback:function(e){E["a"].success("\u63d0\u4ea4\u6210\u529f\uff01"),this.setState({loading:!1,visible:!1}),this.test()}.bind(C()(t))})):E["a"].warning("\u8bf7\u586b\u5199\u8bf7\u5047\u539f\u56e0\u53ca\u8bf7\u5047\u65f6\u95f4\uff01")},t.loading=function(){t.setState({loading:!0})},t.handleCancel=function(){t.setState({visible:!1})},t.handleShowModal=function(e){t.setState({visible:!0,modalData:e||{}})},t.columns=[{title:"\u59d3\u540d",dataIndex:"name"},{title:"\u5b66\u53f7",dataIndex:"id"},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u5ba1\u6838\u7ed3\u679c",dataIndex:"result"},{title:"\u64cd\u4f5c",render:function(e,a){return"\u540c\u610f"==a.result?x.a.createElement("a",{onClick:function(){return t.handleShowModal(a)}},"\u67e5\u770b\u8be6\u60c5"):x.a.createElement("a",{onClick:function(){return t.handleShowModal(a)}},"\u4fee\u6539\u7533\u8bf7")}}],t}return S()(a,e),g()(a,[{key:"componentDidMount",value:function(){this.test()}},{key:"render",value:function(){var e=this.props,a=(e.currentUser,e.vacateList),t=(e.vacateListLoading,this.props.form.getFieldDecorator),l=this.state.modalData,n=a||[];if(n)var r=n.vacate;return x.a.createElement(M["a"],{title:"\u67e5\u8be2\u8bf7\u5047\u8bb0\u5f55",content:"\u6b64\u5904\u4e3a\u8bf7\u5047\u8bb0\u5f55\u67e5\u8be2\uff0c\u7ed3\u679c\u4e3a\u4e2a\u4eba\u7684\u8bf7\u5047\u8bb0\u5f55\u62a5\u8868\uff01"},x.a.createElement(o["a"],{style:{marginBottom:20}},x.a.createElement(u["a"],{size:"large",bordered:!0,dataSource:r,columns:this.columns})),l?"\u540c\u610f"==l.result?x.a.createElement(c["a"],{visible:this.state.visible,title:"\u8be6\u60c5",onCancel:this.handleCancel,footer:[x.a.createElement(m["a"],{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),x.a.createElement(m["a"],{disabled:!0,key:"submit",type:"primary",onClick:this.handleOK},"\u63d0\u4ea4")]},x.a.createElement(O["a"],null,x.a.createElement(s["a"],{gutter:{md:8,lg:24,xl:48}},x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u59d3\u540d"},t("name",{initialValue:l.name})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u5b66\u53f7"},t("id",{initialValue:l.userid})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u5e74\u7ea7"},t("grade",{initialValue:l.grade})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u73ed\u7ea7"},t("class1",{initialValue:l.class1})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u8054\u7cfb\u7535\u8bdd"},t("phone",{initialValue:l.phone})(x.a.createElement(z["a"],{required:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:24,sm:24},x.a.createElement(A,{label:"\u8d77\u6b62\u65e5\u671f"},t("date",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8d77\u6b62\u65e5\u671f\uff01"}]})(x.a.createElement(F,{style:{width:"100%"},placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]})),"\u539f:",x.a.createElement("span",{style:{color:"#CE0000",fontSize:22}},l.starttime,"\u2014\u2014\u2014\u2014",l.endtime))),x.a.createElement(d["a"],{md:24,sm:24},x.a.createElement(A,{label:"\u8bf7\u5047\u539f\u56e0"},t("reason",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bf7\u5047\u539f\u56e0\uff01"}],initialValue:l.reason})(x.a.createElement(K,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165\u8bf7\u5047\u539f\u56e0",rows:4}))),x.a.createElement(A,{label:"\u7c7b\u578b"},t("type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bf7\u5047\u7c7b\u578b\uff01"}]})(x.a.createElement(q["a"],{labelInValue:!0,style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9"},x.a.createElement(U,{value:"\u75c5\u5047"},"\u75c5\u5047"),x.a.createElement(U,{value:"\u4e8b\u5047"},"\u4e8b\u5047"))),"\u539f:",x.a.createElement("span",{style:{color:"#CE0000",fontSize:22}},l.type)))))):x.a.createElement(c["a"],{visible:this.state.visible,title:"\u8be6\u60c5",onCancel:this.handleCancel,footer:[x.a.createElement(m["a"],{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),x.a.createElement(m["a"],{key:"submit",type:"primary",onClick:this.handleOK},"\u63d0\u4ea4")]},x.a.createElement(O["a"],null,t("vid",{initialValue:l.vid})(x.a.createElement(z["a"],{hidden:!0,disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})),t("result",{initialValue:l.result})(x.a.createElement(z["a"],{hidden:!0,disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})),t("status",{initialValue:l.status})(x.a.createElement(z["a"],{hidden:!0,disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})),x.a.createElement(s["a"],{gutter:{md:8,lg:24,xl:48}},x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u59d3\u540d"},t("name",{initialValue:l.name})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u5b66\u53f7"},t("id",{initialValue:l.id})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u5e74\u7ea7"},t("grade",{initialValue:l.grade})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u73ed\u7ea7"},t("class1",{initialValue:l.class1})(x.a.createElement(z["a"],{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:8,sm:24},x.a.createElement(A,{label:"\u8054\u7cfb\u7535\u8bdd"},t("phone",{initialValue:l.phone})(x.a.createElement(z["a"],{required:!0,placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(d["a"],{md:24,sm:24},x.a.createElement(A,{label:"\u8d77\u6b62\u65e5\u671f"},t("date",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8d77\u6b62\u65e5\u671f\uff01"}]})(x.a.createElement(F,{style:{width:"100%"},placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]})),"\u539f:",x.a.createElement("span",{style:{color:"#CE0000",fontSize:22}},l.starttime,"\u2014\u2014\u2014\u2014",l.endtime))),x.a.createElement(d["a"],{md:24,sm:24},x.a.createElement(A,{label:"\u8bf7\u5047\u539f\u56e0"},t("reason",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bf7\u5047\u539f\u56e0\uff01"}],initialValue:l.reason})(x.a.createElement(K,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165\u8bf7\u5047\u539f\u56e0",rows:4}))),x.a.createElement(A,{label:"\u7c7b\u578b"},t("type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bf7\u5047\u7c7b\u578b\uff01"}]})(x.a.createElement(q["a"],{labelInValue:!0,style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9"},x.a.createElement(U,{value:"\u75c5\u5047"},"\u75c5\u5047"),x.a.createElement(U,{value:"\u4e8b\u5047"},"\u4e8b\u5047"))),"\u539f:",x.a.createElement("span",{style:{color:"#CE0000",fontSize:22}},l.type)))))):null)}}]),a}(I["Component"]),r=i))||r)||r)}}]);